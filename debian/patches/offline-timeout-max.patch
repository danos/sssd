--- a/src/confdb/confdb.h
+++ b/src/confdb/confdb.h
@@ -226,6 +226,7 @@
 #define CONFDB_DOMAIN_PWD_EXPIRATION_WARNING "pwd_expiration_warning"
 #define CONFDB_DOMAIN_REFRESH_EXPIRED_INTERVAL "refresh_expired_interval"
 #define CONFDB_DOMAIN_OFFLINE_TIMEOUT "offline_timeout"
+#define CONFDB_DOMAIN_OFFLINE_TIMEOUT_MAX "offline_timeout_max"
 #define CONFDB_DOMAIN_SUBDOMAIN_INHERIT "subdomain_inherit"
 #define CONFDB_DOMAIN_CACHED_AUTH_TIMEOUT "cached_auth_timeout"
 #define CONFDB_DOMAIN_TYPE "domain_type"
--- a/src/config/SSSDConfigTest.py
+++ b/src/config/SSSDConfigTest.py
@@ -569,6 +569,7 @@
             'max_id',
             'timeout',
             'offline_timeout',
+            'offline_timeout_max',
             'command',
             'enumerate',
             'cache_credentials',
@@ -940,6 +941,7 @@
             'max_id',
             'timeout',
             'offline_timeout',
+            'offline_timeout_max',
             'command',
             'enumerate',
             'cache_credentials',
--- a/src/config/cfg_rules.ini
+++ b/src/config/cfg_rules.ini
@@ -353,6 +353,7 @@
 option = enumerate
 option = subdomain_enumerate
 option = offline_timeout
+option = offline_timeout_max
 option = cache_credentials
 option = cache_credentials_minimal_first_factor_length
 option = store_legacy_passwords
--- a/src/config/etc/sssd.api.conf
+++ b/src/config/etc/sssd.api.conf
@@ -157,6 +157,7 @@
 enumerate = bool, None, false
 subdomain_enumerate = str, None, false
 offline_timeout = int, None, false
+offline_timeout_max = int, None, false
 cache_credentials = bool, None, false
 cache_credentials_minimal_first_factor_length = int, None, false
 store_legacy_passwords = bool, None, false
--- a/src/providers/data_provider_be.c
+++ b/src/providers/data_provider_be.c
@@ -106,7 +106,7 @@
 
 void be_mark_offline(struct be_ctx *ctx)
 {
-    int offline_timeout;
+    int offline_timeout, offline_timeout_max;
     errno_t ret;
 
     DEBUG(SSSDBG_TRACE_INTERNAL, "Going offline!\n");
@@ -122,11 +122,21 @@
 
         offline_timeout = get_offline_timeout(ctx);
 
+        ret = confdb_get_int(ctx->cdb, ctx->conf_path,
+                              CONFDB_DOMAIN_OFFLINE_TIMEOUT_MAX, 3600,
+                              &offline_timeout_max);
+        if (ret != EOK) {
+            DEBUG(SSSDBG_CONF_SETTINGS,
+                  "Failed to get offline_timeout_max from confdb. "
+                  "Will use 3600.\n");
+            offline_timeout_max = 3600;
+        }
+
         ret = be_ptask_create_sync(ctx, ctx,
                                    offline_timeout, offline_timeout,
                                    offline_timeout, 30, offline_timeout,
                                    BE_PTASK_OFFLINE_EXECUTE,
-                                   3600 /* max_backoff */,
+                                   offline_timeout_max,
                                    try_to_go_online,
                                    ctx, "Check if online (periodic)",
                                    &ctx->check_if_online_ptask);
